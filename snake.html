<!DOCTYPE html>
<html>
<head>
  <link rel="stylesheet" type="text/css" href="styles.css">
  <style>
    #game-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
      position: relative;
    }
    #game-board {
      width: 300px;
      height: 300px;
      border: 1px solid #000;
      margin: 20px;
      display: block;
    }
    .control-buttons {
      display: flex;
      justify-content: center;
      gap: 10px;
    }
    .control-button {
      padding: 10px 20px;
      font-size: 18px;
      background-color: #4caf50;
      color: white;
      border: none;
      cursor: pointer;
      transition: background-color 0.3s;
    }
  </style>
</head>
<body>
  <div class="dropdown">
    <button class="dropbtn">Menu</button>
    <div class="dropdown-content">
      <a href="index.html">Homepage</a>
      <a href="page2.html">Computerwerking</a>
      <a href="binairestelsel.html">Binairestelsel</a>
      <a href="kleurmodellen.html">Kleurmodellen</a>
      <a href="compressie.html">compressie</a>
      <a href="opslagbeeldengeluid.html">beeldengeluid</a>
      <a href="snake.html" class="active">snake</a>
    </div>
  </div>

  <div id="game-container">
    <h1>Snake Game</h1>
    <p id="start-instruction">Druk op de pijl naar beneden om te starten</p>
    <div id="game-board" style="display: none;"></div>
    <p id="score" style="text-align: center;">Score: 0</p>
    <div class="control-buttons">
      <button class="control-button" id="up-button">Omhoog</button>
      <button class="control-button" id="down-button">Omlaag</button>
      <button class="control-button" id="left-button">Links</button>
      <button class="control-button" id="right-button">Rechts</button>
    </div>
  </div>

  <footer style="position: fixed; bottom: 0; left: 0; width: 100%; background-color: red; text-align: center; padding: 3px; color: white;">
    <div>
      <p>Dirk Straathof: versie 1</p>
    </div>
  </footer>

  <script>
    let gameStarted = false;
    let direction = 'right'; // Standaardrichting

    document.addEventListener('keydown', function(event) {
      if (event.key === 'ArrowDown' && !gameStarted) {
        startGame();
      }
    });

    document.addEventListener('DOMContentLoaded', function() {
      const gameContainer = document.getElementById('game-container');
      const gameBoard = document.getElementById('game-board');
      const upButton = document.getElementById('up-button');
      const downButton = document.getElementById('down-button');
      const leftButton = document.getElementById('left-button');
      const rightButton = document.getElementById('right-button');
      
      let snake = [{ x: 2, y: 2 }];
      let food = { x: 5, y: 5 };
      let score = 0;
      let gameLoop;

      function draw() {
        gameBoard.innerHTML = '';
        const foodElement = document.createElement('div');
        foodElement.classList.add('food');
        foodElement.style.left = food.x * 20 + 'px';
        foodElement.style.top = food.y * 20 + 'px';
        gameBoard.appendChild(foodElement);

        snake.forEach(segment => {
          const snakeSegment = document.createElement('div');
          snakeSegment.classList.add('snake');
          snakeSegment.style.left = segment.x * 20 + 'px';
          snakeSegment.style.top = segment.y * 20 + 'px';
          gameBoard.appendChild(snakeSegment);
        });
      }

      function update() {
        let newHead = { ...snake[0] };

        switch (direction) {
          case 'up':
            newHead.y--;
            break;
          case 'down':
            newHead.y++;
            break;
          case 'left':
            newHead.x--;
            break;
          case 'right':
            newHead.x++;
            break;
        }

        snake.unshift(newHead);

        if (
          newHead.x < 0 ||
          newHead.x >= 15 ||
          newHead.y < 0 ||
          newHead.y >= 15 ||
          snake.some(segment => segment.x === newHead.x && segment.y === newHead.y)
        ) {
          clearInterval(gameLoop);
          alert('Game Over!');
          location.reload();
          return;
        }

        if (newHead.x === food.x && newHead.y === food.y) {
          score++;
          document.getElementById('score').innerText = `Score: ${score}`;
          generateFood();
        } else {
          snake.pop();
        }

        draw();
      }

      function startGame() {
        gameStarted = true;
        gameContainer.style.flexDirection = 'row'; // Zet de richting van de game-container op rij
        gameBoard.style.display = 'block';
        document.getElementById('start-instruction').style.display = 'none';
        document.getElementById('score').style.display = 'block';
        gameLoop = setInterval(update, 100);
      }

      // Luister naar toetsenbordgebeurtenissen om de richting te wijzigen
      document.addEventListener('keydown', function(event) {
        if (event.key === 'ArrowUp' && direction !== 'down') {
          direction = 'up';
        } else if (event.key === 'ArrowDown' && direction !== 'up') {
          direction = 'down';
        } else if (event.key === 'ArrowLeft' && direction !== 'right') {
          direction = 'left';
        } else if (event.key === 'ArrowRight' && direction !== 'left') {
          direction = 'right';
        }
      });

      // Luister naar de knoppen voor de richtingen
      upButton.addEventListener('click', function() {
        if (direction !== 'down') {
          direction = 'up';
        }
      });

      downButton.addEventListener('click', function() {
        if (direction !== 'up') {
          direction = 'down';
        }
      });

      leftButton.addEventListener('click', function() {
        if (direction !== 'right') {
          direction = 'left';
        }
      });

      rightButton.addEventListener('click', function() {
        if (direction !== 'left') {
          direction = 'right';
        }
      });

      function generateFood() {
        food = {
          x: Math.floor(Math.random() * 15),
          y: Math.floor(Math.random() * 15)
        };
      }
    });
  </script>
</body>
</html>
